# æ™ºèƒ½è¦†ç›–ç‡ç­–ç•¥

## æ ¸å¿ƒæ¦‚å¿µ

ä¸æ˜¯æ¯ä¸ªç›®å½•éƒ½éœ€è¦ç‹¬ç«‹çš„ CLAUDE.mdã€‚ç³»ç»Ÿä½¿ç”¨æ™ºèƒ½é˜ˆå€¼åˆ¤æ–­ï¼š

```
ç›®å½•åˆ†ç±»ï¼š
â”œâ”€â”€ å¤§ç›®å½• (â‰¥5 æ–‡ä»¶ æˆ– â‰¥200 è¡Œ) â†’ å¿…é¡»æœ‰ç‹¬ç«‹ CLAUDE.md
â”œâ”€â”€ å°ç›®å½• + çˆ¶ç›®å½•æœ‰ CLAUDE.md â†’ ç”±çˆ¶ç›®å½•è¦†ç›–ï¼Œæ— éœ€ç‹¬ç«‹æ–‡æ¡£
â””â”€â”€ å°ç›®å½• + çˆ¶ç›®å½•æ—  CLAUDE.md â†’ å­¤å„¿ç›®å½•ï¼Œéœ€å…³æ³¨
```

## å±‚çº§ä¾èµ–

æ‰¹é‡ç”Ÿæˆé‡‡ç”¨æ·±åº¦ä¼˜å…ˆæ’åºé€»è¾‘ï¼šå…ˆå¤„ç†æ›´æ·±å±‚ç›®å½•ï¼Œå†å¤„ç†çˆ¶ç›®å½•ï¼Œä¿è¯çˆ¶ç›®å½•å¯å¼•ç”¨å­ç›®å½•çš„ CLAUDE.mdã€‚

- `generate.js` å’Œ `module-analyzer.js` éƒ½å·²å®ç°è¯¥æ’åº
- å¹¶å‘æ‰§è¡Œæ—¶ä»æŒ‰æ·±åº¦æ’åºå¯åŠ¨ï¼Œæ·±å±‚çº§ä»»åŠ¡å…ˆè¿›å…¥é˜Ÿåˆ—

## è¦†ç›–ç‡æŒ‡æ ‡

| æŒ‡æ ‡ | è®¡ç®—æ–¹å¼ | è¯´æ˜ |
|------|----------|------|
| **å®é™…è¦†ç›–ç‡** | æœ‰ CLAUDE.md / æ€»ä»£ç ç›®å½• | ä¼ ç»Ÿç»Ÿè®¡ |
| **æœ‰æ•ˆè¦†ç›–ç‡** | æœ‰ CLAUDE.md / éœ€è¦ç‹¬ç«‹æ–‡æ¡£çš„ç›®å½• | æ’é™¤è¢«çˆ¶è¦†ç›–çš„å°ç›®å½• |

## ç¤ºä¾‹

```
æ€»ä»£ç ç›®å½•: 107
â”œâ”€â”€ æœ‰ CLAUDE.md: 51
â”œâ”€â”€ å¤§ç›®å½•ç¼ºæ–‡æ¡£: 38 (éœ€æ–°å»º)
â”œâ”€â”€ å°ç›®å½•è¢«çˆ¶è¦†ç›–: 18 (æ— éœ€ç‹¬ç«‹æ–‡æ¡£)
â””â”€â”€ å°ç›®å½•å­¤å„¿: 0

å®é™…è¦†ç›–ç‡: 51/107 = 48%
æœ‰æ•ˆè¦†ç›–ç‡: 51/89 = 57%
```

## JSON è¾“å‡º

`audit-status.js --json` è¾“å‡ºï¼š

```json
{
  "docCoveragePercent": 48,
  "effectiveDocCoverage": {
    "withClaude": 51,
    "largeMissing": 38,
    "smallCoveredByParent": 18,
    "smallOrphan": 0,
    "effectiveTotal": 89,
    "effectiveCovered": 51,
    "effectivePercent": 57,
    "actualPercent": 48
  }
}
```

| å­—æ®µ | è¯´æ˜ |
|------|------|
| `withClaude` | æœ‰ CLAUDE.md çš„ç›®å½•æ•° |
| `largeMissing` | å¤§ç›®å½•ç¼º CLAUDE.mdï¼ˆéœ€æ–°å»ºï¼‰ |
| `smallCoveredByParent` | å°ç›®å½•è¢«çˆ¶è¦†ç›–ï¼ˆæ— éœ€ç‹¬ç«‹æ–‡æ¡£ï¼‰ |
| `smallOrphan` | å°ç›®å½•å­¤å„¿ï¼ˆçˆ¶ä¹Ÿæ²¡æ–‡æ¡£ï¼‰ |
| `effectivePercent` | æœ‰æ•ˆè¦†ç›–ç‡ |
| `actualPercent` | å®é™…è¦†ç›–ç‡ |

## æ‰¹é‡ä»»åŠ¡å‘ç°

æŸ¥çœ‹å“ªäº›ç›®å½•éœ€è¦å¤„ç†ï¼š

```bash
node scripts/generate.js --batch --scan js/agents
```

è¾“å‡ºï¼š
```
=== éœ€è¦æ›´æ–°çš„ç›®å½•ï¼ˆæœ‰æœªç´¢å¼•å°å­ç›®å½•ï¼‰ ===
  ğŸ“ js/agents/plugins (3 ä¸ªå°å­ç›®å½•)
  ğŸ“ js/agents/ingest (2 ä¸ªå°å­ç›®å½•)

=== éœ€è¦æ–°å»ºç´¢å¼•çš„å¤§ç›®å½• ===
  ğŸ“„ js/agents/stages/design/runtime (8 æ–‡ä»¶, 3345 è¡Œ)
  ğŸ“„ js/agents/stages/deepsearch/runtime (7 æ–‡ä»¶, 1906 è¡Œ)

æ€»è®¡: éœ€æ›´æ–° 4 | éœ€æ–°å»º 38
```

JSON è¾“å‡ºï¼ˆä¾› codex --parallelï¼‰ï¼š
```bash
node scripts/generate.js --batch --scan js/agents --json
```

## çˆ¶ç›®å½•è¦†ç›–å°å­ç›®å½•

å½“æ›´æ–°çˆ¶ç›®å½•çš„ CLAUDE.md æ—¶ï¼Œéœ€è¦"é¢å¤–çœ‹ä¸€çœ¼"æ²¡æœ‰ç‹¬ç«‹æ–‡æ¡£çš„å°å­ç›®å½•ã€‚

### ç”Ÿæˆæç¤ºè¯ä¸Šä¸‹æ–‡

```bash
node scripts/generate.js --prompt-context --module js/agents/ingest
```

è¾“å‡ºï¼š
```markdown
## æœªç´¢å¼•çš„å°å­ç›®å½•ï¼ˆéœ€é¢å¤–å…³æ³¨ï¼‰

ä»¥ä¸‹å­ç›®å½•æ²¡æœ‰ç‹¬ç«‹çš„ CLAUDE.mdï¼Œè¯·åœ¨æœ¬æ–‡æ¡£ä¸­è¦†ç›–å®ƒä»¬çš„åŠŸèƒ½è¯´æ˜ï¼š

### streaming
- æ–‡ä»¶æ•°: 1, ä»£ç è¡Œæ•°: 148
- æ–‡ä»¶: byte-buffer.js

### tools
- æ–‡ä»¶æ•°: 1, ä»£ç è¡Œæ•°: 99
- æ–‡ä»¶: video-frames.js
```

### ä¸ codex é›†æˆ

```bash
context=$(node generate.js --prompt-context --module js/agents/ingest)

codex-wrapper - <<EOF
æ›´æ–° js/agents/ingest/CLAUDE.mdï¼Œå‚è€ƒç°æœ‰ä»£ç ç»“æ„ã€‚

$context
EOF
```

## è¾¾æˆ 100% æœ‰æ•ˆè¦†ç›–ç‡

1. è¿è¡Œ `--batch` æ‰¾å‡ºéœ€å¤„ç†çš„ç›®å½•
2. ä¸º 38 ä¸ªå¤§ç›®å½•æ–°å»º CLAUDE.md
3. æ›´æ–° 4 ä¸ªçˆ¶ç›®å½•ï¼Œè¦†ç›–å…¶å°å­ç›®å½•
4. 18 ä¸ªå°ç›®å½•ç”±çˆ¶ç›®å½•è‡ªåŠ¨è¦†ç›–
5. æœ‰æ•ˆè¦†ç›–ç‡ = 89/89 = 100%
